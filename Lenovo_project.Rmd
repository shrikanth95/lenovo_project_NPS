---
title: "Lenovo_project"
author: "ISE 560"
date: "10/5/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library("dplyr")
library("lubridate")
library(ggplot2)
source('src_lenovo_project.R')
setwd("D:/Work/NC State/Fall 2019/ISE 560 Stochastic Models for Industrial Engineering/Lenovo Project")

```

# Extraction

```{r}
pnps.main <-read.csv("../RawData/Lenovo_Survey_Data_pNPS.csv",header = TRUE)
cis.main <- read.csv("../RawData/CID_Web_Sentiment.csv", header = TRUE)
```

# Selection of Ideapad 120 series 

```{r}
pnps.working <- pnps.main[grep("IdeaPad 1", pnps.main$Product),]
cis.working <- cis.main[grep("IDEAPAD 1",cis.main$Product),]

pnps.working <- mutate(pnps.working, Product = as.character(Product), Date.Survey = as.Date(Date.Survey, format = "%m/%d/%Y"))
cis.working <- mutate(cis.working, Product = as.character(Product), Comment.Date = as.Date(Comment.Date, format = "%m/%d/%y"))

pnps.working <- select(pnps.working, Date.Survey, Country, Product.NPS, Brand.NPS, Segment, Product)
cis.working <- select(cis.working, comment_id, Comment.Date, Sentiment, Category, Stars.Rating, Business.Group, Product)

pis.working <- calculate.PIS(cis.working = cis.working)


# ggplot(main.df)+geom_histogram(aes(x = ))
# ggplot(main.df)+geom_point(aes(x = Stars.Rating,y = Product.NPS, color = ))+facet_wrap(Month~Segment)

```

